services:
  mlflow:
    image: python:3.11-slim
    container_name: mlflow
    working_dir: /mlflow
    ports:
      - "5000:5000"
    volumes:
      - ./mlflow_data:/mlflow
    command: >
      bash -lc "pip install --no-cache-dir mlflow==2.9.2 && \
      mlflow server \
        --backend-store-uri sqlite:///mlflow.db \
        --default-artifact-root /mlflow/artifacts \
        --host 0.0.0.0 \
        --port 5000"
